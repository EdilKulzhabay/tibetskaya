import React, { useRef, useState, useEffect } from "react";
import api from "../api";
import Footer from "../components/Footer";
import { useParams } from "react-router-dom";

export default function Agreement() {
    const { id } = useParams();

    const tel = id || "87475315558";

    const [phone, setPhone] = useState("");
    const [mail, setMail] = useState("");

    useEffect(() => {
        const formData = new FormData();
        formData.append("phone", tel);

        api.post("/getFranchiseeByPhone", formData, {
            headers: { "Content-Type": "application/json" },
        })
            .then(({ data }) => {
                setPhone(
                    `+7 ${data.phone.substring(1, 4)} ${data.phone.substring(
                        4,
                        7
                    )} ${data.phone.substring(7, 9)} ${data.phone.substring(9)}`
                );
                setMail(data.mail);
            })
            .catch((err) => {
                console.log(err);
            });
    }, [tel]);

    const footerRef = useRef(null);

    const userAgreement = `
        Пользовательское соглашение об общих условиях использования мобильного платежного приложения «Вода «Тибетская»»
        Настоящее пользовательское соглашение об общих условиях использования мобильного платежного приложения «Вода «Тибетская»» (далее – Соглашение) устанавливает условия использования мобильного приложения по доставке воды для Устройств и подлежит заключению между Правообладателем и Пользователем.

        1. ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ
        1.1. Правообладатель – Товарищество с ограниченной ответственностью «Partner’s Mountain Water Co» (БИН 090840006340, юридический адрес: г. Алматы, Медеуский район, ул. Шевченко, д. 7/75, оф. 59а)
        1.2. Пользователь – физическое лицо, установившее Приложение на устройство.
        1.3. Приложение – Мобильное приложение «Вода «Тибетская»», по заказу и доставке питьевой воды торговой марки «Тибетская» (далее – «Товар»), бутилированной в пластиковые бутыли для воды, емкостью 18,9 литров, исключительное право на которое принадлежит Правообладателю в силу факта создания.
        1.4. Лицензия – простая (неисключительная) отзывная непередаваемая безвозмездная лицензия на использование Приложения.
        1.5. Устройство – мобильное техническое устройство, имеющее доступ к сети Интернет, на котором установлено Приложение.
        1.6. Официальный сайт – сайт Правообладателя в сети Интернет tibetskaya.kz.
        1.7. Товар – питьевая вода торговой марки «Тибетская», бутилированная в пластиковые бутыли для воды, емкостью 18,9 (восемнадцать целых девять десятых) литров. 
        1.8. Заказ — должным образом оформленный запрос Пользователя, на приобретение и доставку необходимого количества Товара, по указанному Пользователем адресу.
        2. ПРЕДМЕТ СОГЛАШЕНИЯ
        2.1. Настоящее Соглашение определяет общий порядок и отношения между Правообладателем, являющимся обладателем исключительного права на Мобильное приложение и Пользователем, использующим Приложение. Настоящее Соглашение является публичной офертой в соответствии со ст.  395 Гражданского кодекса Республики Казахстан, адресованной физическим лицам, на условиях настоящего Соглашения.
        2.2. Правообладатель предоставляет Пользователю на условиях Лицензии право на использование его программного обеспечения в рамках работы с Приложением, в полном соответствии с настоящим Соглашением.
        2.3. Лицензия предоставляет следующие права на использование Приложения – копирование и установка в память Устройства, воспроизведение на Устройстве, использование Приложения по прямому функциональному назначению в целях, определенных настоящим Соглашением.
        2.4. Срок действия Лицензии – с даты начала использования Пользователем Приложения и принятия Пользователем условий Лицензии до момента его удаления с Устройства.
        2.5. Соглашаясь с условиями настоящего Соглашения, Пользователь подтверждает свое право- и дееспособность, подтверждает достоверность своих персональных данных и принимает на себя всю ответственность за их точность, полноту и достоверность. На основании Закон Республики Казахстан от 21 мая 2013 года № 94-V «О персональных данных и их защите», Правообладатель обрабатывает персональные данные зарегистрированных Пользователей с соблюдением принципов и правил обработки и защиты персональных данных. В соответствии с условиями настоящего Соглашения, Пользователь подтверждает свое согласие на обработку его персональных данных, предоставленных при регистрации. Также Пользователь подтверждает свое согласие на передачу своих персональных данных третьим лицам, в том числе банкам, лицам, в адрес которых Пользователь с использованием Приложения переводит денежные средства и осуществляет финансовые операции.
        2.6. Правообладатель предполагает совершенствование и изменение Приложения, внедрение, удаление некоторых функций и возможностей, в связи с чем настоящее Соглашение может быть изменено и/или дополнено Правообладателем в одностороннем порядке. Продолжение использования Приложения после внесения изменений и/или дополнений в настоящее Соглашение подтверждает согласие Пользователя с такими изменениями и/или дополнениями. В случае несогласия Пользователя с какими-либо из положений указанных документов, Пользователь не вправе использовать Приложение.
        2.7. Заказывая Товары через Мобильное приложение, Пользователь соглашается с условиями продажи Товаров, изложенными ниже.
        2.8. Принимая условия настоящего Соглашения, Пользователь подтверждает свое согласие на получение информации о функционировании Приложения, в том числе получать рекламные, информационные и иные сообщения на адрес электронной почты или номер телефона, а также получать соответствующую информацию в самом Приложении. 
        2.9. Сообщая Правообладателю свои данные, Пользователь дает согласие на использование указанных средств связи Правообладателем, а также третьими лицами, привлекаемыми им для целей выполнения обязательств перед Пользователями, о передаче заказа Товара в доставку, а также иную информацию, непосредственно связанную с выполнением обязательств Правообладателем. 
        3. ОБЩИЕ ПОЛОЖЕНИЯ
        3.1. Пользователь самостоятельно совершает установку Мобильного приложения на свое Устройство с использованием Интернет-сервисов AppStore или Google Play, доступных в публичной информационно-телекоммуникационной сети «Интернет» по сетевому адресу: itunes.apple.com и play.google.com соответственно. 
        3.2. После Авторизации Пользователя, с целью Регистрации Пользователь вводит в Мобильном приложении номер своего мобильного телефона (Логин). 3.3. В Мобильном приложении Пользователю предоставляются на ознакомление (посредством отображения в Мобильном приложении на экране Устройства): • настоящее Соглашение; • Согласие Пользователя на обработку его персональных данных; • Политика конфиденциальности. Пользователь не может начать Регистрацию, не согласившись с условиями указанных документов. Пользователь, своевременно не ознакомившийся с условиями указанных документов, принимает на себя все риски, связанные с неблагоприятными последствиями для Пользователя. Нажимая в Мобильном приложении активную клавишу «Продолжить», Пользователь выражает свое безусловное согласие с настоящим Соглашением и также дает свое согласие на обработку персональных данных Пользователя на условиях Политики конфиденциальности с использованием средств автоматизации и/или без использования таких средств Правообладателем, а также третьими лицами, указанными в тексте Согласия.
        3.4. После нажатия Пользователем в Мобильном приложении активной клавиши «Продолжить» на указанный Пользователем номер мобильного телефона системой Правообладателем автоматически генерируется (создается) и направляется по Email сообщению одноразовый Код подтверждения (пароль), после ввода которого в Мобильном приложении Пользователю предоставляется возможность осуществления дальнейших действий по Регистрации. 
        3.5. Для Регистрации в Мобильном приложении Пользователь должен ввести данные своей банковской карты, с которой будут списываться денежные средства в счет платежей, предусмотренных за поставку Товара. Согласие предоставить данные банковской карты подтверждается нажатием Пользователем активной клавиши «Добавить карту», после чего Пользователь через шлюз передачи данных вводит в поле ввода номер банковской карты, срок ее действия, код CVC, имя владельца и нажимает активную клавишу «Добавить», передавая указанные данные банку, обслуживающему Правообладателя. Сведения о банковской карте направляются через шлюз передачи данных непосредственно в банк, обслуживающий Правообладателя, исключая получение Правообладателем вводимых Пользователем данных банковской карты. Правообладатель получает от банка, обслуживающего Правообладателя лишь сведения о номере банковской карты в виде маски 1111 **** **** 1111. Возможность совершения Интернет-платежей обеспечивается Пользователем самостоятельно через банк, выпустивший банковскую карту. Вводя в Мобильном приложении данные своей банковской карты, Пользователь дает согласие на списание Правообладателем или по его поручению привлеченным банком (платежной системой) денежных средств с указанной банковской карты в счет платежей за поставленный Товар в безакцептном порядке, без получения дополнительного согласия Пользователя. Совокупность действий Пользователя, указанных в п.п. 3.1-3.5 настоящего Соглашения, означает выражение его воли на присоединение к настоящему Соглашению, составление и подачу заявки на Регистрацию в Мобильном приложении. Фактическое начало использование Пользователем Мобильного приложения является подтверждением присоединения Пользователя к условиям Соглашения, Пользователь принимает условия настоящего Соглашения, Пользователь соглашается на использование всех своих данных в целях настоящего Соглашения, предоставленных им при регистрации (авторизации) в Мобильном приложении.
        3.6. Принимая условия настоящего Соглашения и осуществляя действия по Регистрации, Пользователь подтверждает, что он: • владеет выбранным языком на уровне, достаточном для прочтения и осознания смысла и значения настоящего Соглашения; • согласен на хранение, сбор, уточнение (обновление, изменение), удаление, обработку (включая автоматизированную обработку) и использование данных о географическом местоположении (географические координаты) устройства Пользователя (на основе данных сети оператора сотовой связи и сигналов GPS) и месте совершения Пользователем операций в целях информирования Пользователя о местоположении при использовании Мобильного приложения, а также о дополнительных сервисах, доступных Пользователю и обусловленных его географическим местоположением; • согласен на получение от Правообладателя любых уведомлений, сообщений, информации и рассылок (включая рекламных) в любом формате, при условии соответствия их содержания требованиям действующего законодательства РК. 3.7. Пользователь гарантирует, что предоставленные им при Регистрации в Мобильном приложении данные являются полными, действительными и достоверными, что он является держателем банковской карты. Правообладатель оставляет за собой право в любой момент потребовать от Пользователя подтверждения данных, указанных при Регистрации, и запросить, в связи с этим подтверждающие документы, не предоставление которых, по усмотрению Правообладателя может быть приравнено к предоставлению недостоверной информации и повлечь отказ в Регистрации блокировку Учетной записи Пользователя или расторжение настоящего Соглашения. 
        3.8. Пользователь предупреждается о том, что в целях проверки банковской карты с нее будет осуществлено списание денежных средств в размере 1 тенге с последующим возвратом на банковскую карту в течение 24 (двадцати четырех) часов с момента списания. 
        3.9. Активация Приложения в соответствии с настоящим Соглашением (далее – Регистрация) и дальнейшее его использование является подтверждением согласия со всеми условиями настоящего Соглашения. Авторизационные данные Пользователя (код доступа) создаются Пользователем самостоятельно. Код доступа может быть изменен Пользователем в любой момент и неограниченное количество раз. Изменение кода допускается только при условии корректного введения действующего кода Пользователя. Правообладатель признает Пользователем любое лицо, которое прошло Регистрацию в Приложении и использует Приложение по его назначению.
        3.10. Приложение позволяет Пользователям с использованием мобильного телефона совершать электронные операции по передаче распоряжения на заказ Товара, оплату Товаров/услуг, на перевод денежных средств в адрес банка-эквайера, а также осуществлять иное информационное и технологическое взаимодействие с третьими лицами.
        3.11. Для начала использования Приложения Пользователь активирует его путем прохождения Регистрации, а именно: указывает в Приложении номер своего телефона, придумывает код для доступа в Приложение.
        3.12. Авторизационные данные Пользователя при использовании Приложения и при передаче какого-либо распоряжения к исполнению признаются аналогом собственноручной подписи Пользователя.
        3.13. При авторизации Приложения многократно неверно введенный Пользователем код может привести к временной блокировке Приложения.
        3.14. При использовании Приложения и передачу распоряжений через Приложение с Пользователя может взиматься плата, размер которой доводится до сведения Пользователя в используемом Приложении до передачи соответствующего распоряжения к исполнению. Взимаемая плата за передачу такого распоряжения списывается со счета или банковской карты Пользователя, с которой осуществляется перевод денежных средств. При недостатке денежных средств для передачи какого-либо распоряжения исполнение такого распоряжения может быть отклонено.
        3.15. Пользователь обязуется надлежащим образом соблюдать условия настоящего Соглашения.
        3.16. Пользователю предоставляется право использования Приложения исключительно с целью личного использования. При этом Пользователь может использовать Приложение исключительно в соответствии с условиями настоящего Соглашением.
        3.17. Пользователь обязуется не использовать Приложение в нарушение прав и законных интересов Правообладателя, иных правообладателей, третьих лиц, настоящего Соглашения и законодательства РК.
        3.18. Пользователь обязуется принимать надлежащие меры для обеспечения сохранности его мобильного устройства и несет личную ответственность в случае доступа к его мобильному устройству третьих лиц. В случае утраты Устройства, Пользователь обязан незамедлительно сообщить о необходимости блокировки карт и счетов. Пользователь обязуется аккуратно и бережно хранить данные, используемые для идентификации в Приложении, если такие данные становятся известны третьим лицам, то Пользователь обязуется незамедлительно изменить коды доступа.
        3.19. Пользователю запрещено самостоятельно или с привлечением третьих лиц осуществлять декомпилирование, модификацию, декодирование, дизассемблирование, эмуляцию Приложения, в том числе его Сервисов, а также распространять, доводить до всеобщего сведения и предоставлять иной доступ к Приложению и Сервисам, осуществлять реверс-инжиниринг Приложения или его отдельных Сервисов.
        3.20. Пользователь несет ответственность за использование Приложения и его сервисов любыми способами, прямо не указанными в настоящем Соглашении.
        3.21. Пользователь не вправе осуществлять любые несанкционированные действия с Приложением, в том числе распространять Приложение либо его отдельные Сервисы через различные Интернет-ресурсы и порталы, осуществлять взлом функционала Приложения, использование частей Приложения или Сервисов в других мобильных приложениях.
        3.22. Любые платежи за услуги связи, в том числе оказываемые операторами сотовой связи или поставщиками интернет-услуг, уплачиваются Пользователем самостоятельно.
        3.23. Правообладатель вправе передавать права и обязанности по настоящему Соглашению, третьим лицам в целях исполнения настоящего Соглашения без дополнительного согласия Пользователя.
        3.24. Правообладатель вправе направлять Пользователю любым способом информацию о функционировании Приложения и его Сервисов, в том числе направлять рекламные, информационные и иные сообщения на адрес электронной почты или номер телефона, указанный Пользователем, или размещать соответствующую информацию в самом Мобильном приложении.
        3.25. Правообладатель вправе оказывать Пользователям платные и бесплатные услуги. Об условиях предоставления платных услуг (в том числе Сервисов) Правообладатель информирует Пользователя путем размещения в Мобильном приложении или на интернет-сайте соответствующей информации об услуге (наименование услуги, ее стоимость, форма и порядок оплаты).
        3.26. Правообладатель вправе заблокировать доступ Пользователя к Мобильному приложению или его отдельным Сервисам в случае обнаружения нарушений Пользователем обязанностей, указанных в настоящем Соглашении.
        3.27. Правообладатель оставляет за собой право в любой момент расторгнуть настоящее Соглашение по организационным или техническим причинам в одностороннем порядке, удалив Мобильное приложение с мобильного устройства Пользователя или заблокировать возможность его дальнейшего использования.
        4. Совершение покупки Пользователем 
        4.1. Оформление Заказа Пользователем осуществляется посредством Мобильного приложения, который самостоятельно несет ответственность за точность и правильность введенной в Заказе информации.
        4.2. После оформления Заказа в Мобильном приложении Пользователю предоставляется информация о доставке, путем направления пуш уведомления в Мобильном приложении.
        4.3. Правообладатель ведет статистику приобретенных Пользователем заказов.
        4.4. Списание денег с банковской карты Пользователя производится автоматически в момент формирования Заказа, однако в случае непоставки Товара деньги будут возвращены Правообладателем Пользователю в течении 3 дней. 
        4.5. Осуществляя Заказ, Пользователь соглашается с тем, что Правообладатель поручает доставку Товара третьим лицам, при этом оставаясь ответственным за его исполнение. Пользователь соглашается с тем, Правообладатель вправе передавать персональные данные третьим лицам в целях исполнения заказа Пользователя, в частности, франчайзи, курьерским службам, службам СМС-сервисов, которые информируют Пользователя о ходе и времени доставки Заказа, об акциях и скидках, а также иной рекламной информации. Пользователь согласен, что Правообладатель вправе передавать персональные данные Пользователя (ФИО, адрес доставки и номер телефона) для достижения указанных выше целей. Информационное сопровождение с привлечением третьих лиц осуществляется для Пользователя на безвозмездной основе.
        4.6. Стоимость за единицу Товара, сроки доставки Товара указаны в Мобильном приложении. Задержки в доставке возможны ввиду непредвиденных обстоятельств, произошедших не по вине Правообладателя. При доставке Заказ вручается Пользователю либо третьему лицу, указанному в Заказе в качестве получателя. При невозможности получения Заказа, Пользователем Заказ может быть вручен лицу, который может предоставить сведения о Заказе (номер отправления и/или ФИО Пользователя). При вручении оплаченного Заказа лицо, осуществляющее доставку Заказа, вправе затребовать документ, удостоверяющий личность Получателя, а также указать тип и номер предоставленного Получателем документа на квитанции к Заказу. Риск случайной гибели или случайного повреждения Товара переходит к Пользователю с момента передачи ему Заказа и проставления Пользователем подтверждения о получении доставки Заказа в Мобильном приложении. При принятии товара от поставщика, Пользователь обязан осмотреть доставленный Товар и проверить его на соответствие заявленному количеству, ассортименту и комплектности Товара, а также проверить срок годности доставленного Товара, целостность упаковки. В случае отсутствия претензий к доставленному Товару Пользователь подтверждает получение в Мобильном приложении. Выставленная оценка и/или не написанный комментарии свидетельствует о том, что претензий к Товару не заявлено и Правообладатель полностью и надлежащим образом выполнил свою обязанность по передаче Товара.
        4.7. Пластиковые бутыли емкостью 18,9 (восемнадцать целых девять десятых) литров (далее - «Оборотная тара») оплачиваются Пользователем по цене, указанной в Мобильном приложении. Право собственности на Оборотную тару полностью переходит к Пользователю после оплаты. Правообладатель использует Оборотную тару, принадлежащую Пользователю, для последующих поставок Товара. Во время доставки Пользователь обязан проверить количество полученного Товара и передать поставщику возвратную порожнюю тару в количестве, равном количеству полученного Товара в Оборотной таре
        4.8. Правообладатель является производителем Товара, качество которого соответствует действующей нормативно-технической документации ТС и/или РК (стандартам качества и требованиям (ГОСТам, ОСТам, в том числе СТ РК 1432–2005), предъявляемым для такого вида Товаров. Копии данных документов размещены в Мобильном приложении.  
        5. ДОПОЛНИТЕЛЬНЫЕ УСЛОВИЯ
        5.1. В целях улучшения и повышения качества и стабильности работы Мобильного приложения, Правообладатель вправе собирать, хранить и обрабатывать статистическую информацию об использовании Пользователем Мобильного приложения, записывать действия Пользователя в Мобильном приложении, обрабатывать полученные данные самостоятельно либо с привлечением третьих лиц.
        5.2. Условия настоящего Соглашения распространяются на любые обновления/новые версии, дополнения Мобильного Приложения за исключением случаев, когда к такому обновлению прилагается отдельное лицензионное соглашение.
        5.3. Соглашаясь с установкой обновления/новой версии, дополнения Мобильного приложения, Пользователь принимает условия настоящего  Соглашения для соответствующих обновлений/новых версий Мобильного приложения, если обновление/установка новой версии Мобильного приложения не сопровождается иным лицензионным соглашением.
        6. ОТВЕТСТВЕННОСТЬ СТОРОН
        6.1. Пользователь самостоятельно несет ответственность перед третьими лицами за свои действия, связанные с использованием Мобильного приложения и его Сервисов, в том числе, если такие действия приведут к нарушению прав и законных интересов третьих лиц, а также за соблюдение законодательства при использовании Мобильного приложения и его Сервисов. Правообладатель не несет ответственность за упущенную прибыль, недополученный доход, потерю данных, финансовые и (или) иные убытки, а также за косвенный и (или) непредвиденный ущерб, если иное не предусмотрено законодательством.
        6.2. В случае нарушения правил использования Мобильного приложения, обязанностей Пользователя и запретов, указанных в настоящем Соглашении, а также в случае нарушения пункта 6.3. настоящего Соглашения, Пользователь обязуется возместить Правообладателю убытки, причиненные такими действиями в полном объеме в соответствии с действующим законодательством РК.
        6.3. Пользователь гарантирует, что не будет предпринимать каких-либо действий, направленных исключительно на причинение ущерба Правообладателя, операторам сотовой мобильной связи, правообладателям или иным лицам.
        6.4. В случае возникновения любых споров или разногласий, связанных с исполнением настоящего Соглашения, Пользователь и Правообладатель приложат все усилия для их разрешения путем проведения переговоров между ними. В случае, если споры не будут разрешены путем переговоров, споры подлежат разрешению в соответствующем компетентном суде по месту нахождения Правообладателя в порядке, установленном действующим законодательством Республики Казахстан, язык судопроизводства – русский.
        7. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ
        7.1. Настоящее Соглашение вступает в силу для Пользователя с момента установки и принятия условий пользовательского соглашения в Мобильном приложении и действует бессрочно.
        7.2. Если какое-либо из положений настоящего Соглашения будет признано недействительным, это не оказывает влияния на действительность или применимость остальных положений настоящего Соглашения.
        7.3. Действующая редакция настоящего Соглашения размещена на Сайте Правообладателя и доступна в сети Интернет по адресу: https://tibetskaya.kz/agreement
        7.4. Все вопросы, обращения и претензии, связанные с использованием/невозможностью использования Сервиса, а также возможным нарушением законодательства и/или прав третьих лиц, должны направляться через форму обратной связи по адресу: info@tibetskaya.kz
        7.5. Для исполнения настоящего Соглашения могут привлекаться третьи лица. Пользователь подтверждает, что указанным третьим лицам предоставляются такие же права, как и обладателю прав на Мобильное приложение, в том числе в отношении персональных данных Пользователя.
        7.6. Если Пользователем не доказано обратное, любые действия, совершенные с использованием его мобильного устройства, считаются совершенными соответствующим Пользователем. В случае несанкционированного доступа к его мобильному устройству Пользователь обязан незамедлительно сообщить об этом Правообладателю в установленном порядке.
        7.7. Правообладатель не гарантирует, что Мобильное приложение и его отдельные Сервисы будут функционировать в соответствии с ожиданиями Пользователя. Также Правообладатель не несет ответственности за предоставление информации в Приложении в случае наличия на Устройстве Пользователя вредоносных программ (вредоносных кодов, вирусов), которые могут послужить фактором для модификации, изменения информации, предоставляемой через Мобильное приложение.
    `;

    return (
        <>
            <div className="pt-5 px-5 space-y-3">
                <h2 className="text-lg font-bold">Пользовательское Соглашение</h2>
                <div className="h-80 overflow-y-auto bg-white p-4 rounded shadow">
                    <p>{userAgreement}</p>
                </div>
            </div>

            <div className="bg-[#A7D1EC]">
                <Footer ref={footerRef} phone={phone} mail={mail} />
            </div>
        </>
    );
}
